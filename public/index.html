<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <header>
        <h1><i class="fas fa-warehouse"></i> Garagem Inteligente</h1>
    </header>

    <main>
        <div class="coluna-principal">
            <section id="secao-garagem">
                <div class="garagem-header">
                    <h2><i class="fa-solid fa-car-side"></i> Garagem Pública</h2>
                    <button id="btn-mostrar-form-criar" class="btn-adicionar"><i class="fas fa-plus"></i> Adicionar</button>
                </div>
                <div id="garagem-container"></div>
                <div id="garagem-loader" class="loader-container">
                    <div class="loader"></div>
                </div>
            </section>
            
            <!-- SEÇÃO DE CLIMA ADICIONADA DE VOLTA -->
            <section id="previsao-tempo">
                <h2><i class="fas fa-cloud-sun-rain"></i> Previsão do Tempo</h2>
                <div class="form-previsao">
                    <input type="text" id="cidade-input" placeholder="Digite uma cidade...">
                    <button id="ver-clima-btn"><i class="fas fa-search"></i></button>
                </div>
                <div id="clima-resultado"></div>
            </section>
        </div>

        <div class="coluna-detalhes">
            <div id="placeholder-detalhes">
                <p>Selecione um veículo na garagem para ver os detalhes e controlá-lo.</p>
            </div>

            <div id="main-content-container" class="hidden">
                <section id="criar-veiculo-section">
                    <h2 id="form-titulo">Adicionar Novo Veículo</h2>
                    <form id="form-criar-veiculo">
                        <div class="form-grid">
                            <div class="form-group"><label for="tipoVeiculo">Tipo:</label><select id="tipoVeiculo" name="tipoVeiculo" required><option value="" disabled selected>Selecione...</option><option value="carro">Carro</option><option value="esportivo">Carro Esportivo</option><option value="caminhao">Caminhão</option><option value="moto">Moto</option><option value="bicicleta">Bicicleta</option><option value="aviao">Avião</option></select></div>
                            <div class="form-group"><label for="placa">Placa:</label><input type="text" id="placa" name="placa" required placeholder="ABC1234"></div>
                            <div class="form-group"><label for="marca">Marca:</label><input type="text" id="marca" name="marca" required placeholder="Ex: Ferrari"></div>
                            <div class="form-group"><label for="modelo">Modelo:</label><input type="text" id="modelo" name="modelo" required placeholder="Ex: 458 Italia"></div>
                            <div class="form-group"><label for="ano">Ano:</label><input type="number" id="ano" name="ano" required placeholder="2015"></div>
                            <div class="form-group"><label for="cor">Cor:</label><input type="text" id="cor" name="cor" required placeholder="Vermelho"></div>
                            <div class="form-group specific-field" id="turbo-group" style="display: none;"><label for="turbo">Possui Turbo?</label><input type="checkbox" id="turbo" name="turbo"></div>
                            <div class="form-group specific-field" id="capacidade-group" style="display: none;"><label for="capacidadeCarga">Carga (kg):</label><input type="number" id="capacidadeCarga" name="capacidadeCarga" placeholder="10000"></div>
                        </div>
                        <div class="form-actions"><button type="submit"><i class="fas fa-save"></i> Salvar</button><button type="button" id="btn-cancelar">Cancelar</button></div>
                    </form>
                </section>

                <section id="info-veiculo-section">
                     <div class="info-header"><h2 id="info-veiculo-titulo"></h2><button id="btn-remover-veiculo" class="btn-remover"><i class="fas fa-trash"></i></button></div>
                     <div id="info-display"></div>
                     <div id="status-veiculo" class="status-veiculo status-desligado">N/A</div>
                     <div id="velocidade-display" class="info-bar"><i class="fas fa-tachometer-alt"></i> Velocidade: <span id="velocidade-valor">0</span> km/h<div class="barra-progresso-container"><div class="barra-progresso" id="progresso-velocidade"></div></div></div>
                     <div id="fuel-display" class="info-bar hidden"><i class="fas fa-gas-pump"></i> Combustível: <span id="fuel-valor">100</span>%<div class="barra-progresso-container"><div class="barra-progresso fuel-bar" id="fuel-bar"></div></div></div>
                     <div id="carga-display" class="info-bar hidden"><i class="fas fa-weight-hanging"></i> Carga: <span id="carga-valor">0/0</span> kg</div>
                     <div id="turbo-display" class="info-bar hidden"><i class="fas fa-bolt"></i> Turbo: <span id="turbo-status">Desativado</span></div>
                     <div id="acoes-veiculo"></div>

                     <!-- --- INÍCIO DA MODIFICAÇÃO --- -->
                     <div id="secao-manutencao" class="hidden">
                        <hr style="margin: 2rem 0;">
                        <h3><i class="fas fa-tools"></i> Histórico de Manutenção</h3>
                        <div id="manutencao-loader" class="loader-container hidden"><div class="loader"></div></div>
                        <ul id="lista-manutencoes">
                            <!-- Manutenções serão inseridas aqui via JS -->
                        </ul>
                        <div id="form-manutencao-container">
                            <h4>Adicionar Nova Manutenção</h4>
                            <form id="form-add-manutencao">
                                <div class="form-group">
                                    <label for="descricaoServico">Descrição do Serviço:</label>
                                    <input type="text" id="descricaoServico" name="descricaoServico" required>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="custo">Custo (R$):</label>
                                        <input type="number" id="custo" name="custo" required step="0.01" min="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="quilometragem">Quilometragem:</label>
                                        <input type="number" id="quilometragem" name="quilometragem" min="0">
                                    </div>
                                </div>
                                <button type="submit" class="btn-adicionar"><i class="fas fa-plus"></i> Adicionar</button>
                            </form>
                        </div>
                     </div>
                     <!-- --- FIM DA MODIFICAÇÃO --- -->
                </section>
            </div>
        </div>
    </main>

    <div id="notification-area"></div>

    <script src="./js/Veiculo.js"></script>
    <script src="./js/Carro.js"></script>
    <script src="./js/Caminhao.js"></script>
    <script src="./js/CarroEsportivo.js"></script>
    <script src="./js/Aviao.js"></script>
    <script src="./js/Moto.js"></script>
    <script src="./js/Bicicleta.js"></script>
    <script src="./js/principal.js"></script>
</body>
</html>